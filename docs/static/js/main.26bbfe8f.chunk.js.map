{"version":3,"sources":["fretboard/ev_channel.js","fretboard/notes.ts","fretboard/scales.ts","fretboard/notes_sound.ts","fretboard/selector.tsx","fretboard/defs.ts","fretboard/blFret.ts","fretboard/Fret.tsx","fretboard/GString.tsx","fretboard/Guitar.tsx","fretboard/pages/scales_page_component.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Emitter","emitter","__slice","slice","callbacks","sub","ev","callback","evs","name","_i","_len","_results","split","length","push","pub","args","_ref","arguments","call","shift","apply","unsub","i","list","_j","_len1","_results1","splice","callbacks_map","module","exports","this","A","Ad","B","C","Cd","D","Dd","E","F","Fd","G","Gd","ref","SHARP_NOTES","Array","from","FLAT_NOTES","TUNINGS","Standard","notes","offset","DropD","DropC","get_note_index","note","get_new_index","old_idx","generateNotes","sCount","fCount","tuning","concat","result","sNum","end","asc","noteGen","idx","ret_idx","getNoteGenerator","left","right","inclusive","range","ascending","__range__","map","generate_scale_helper","notesRef","Note","scale","scale_notes","degree","scaleName","size","s","names","generate_scale","withSharps","withFlats","console","log","includes","_","isValidScale","SCALES","Major","desc","get_notes","Tonica","Minor","Arabic","Blues","PentatonicMinor","PentatonicMajor","sounds_cache","1","2","3","4","5","6","load_fret","fNum","cb","undefined","sound","get_sound","onload","audio_file_wav","audio_file_ogg","audio_file_mp3","Howl","src","Selector","props","state","elRef","turnOnLoader","setState","loader","turnOffLoader","onMouseDown","e","button","current","offsetLeft","relx","pageX","dragging","stopPropagation","preventDefault","onMouseUp","onMouseMove","pos","newX","minX","maxX","useX","x","ch","onXChange","React","createRef","initialPos","y","loaderFontSize","className","style","height","width","top","position","background","textAlign","opacity","paddingTop","display","color","fontSize","fontStyle","document","addEventListener","removeEventListener","Component","blFret","checked","playing","selected","root_note","is_open","data","playStart","playStop","check","uncheck","select","unselect","set_root","set_open","Fret","text","fretClass","playClass","GString","fret","make_fret","key","Fwidth","Fheight","frets","audioContext","AudioContext","Guitar","jsGuitarRef","displayRef","playScaleHelper","Scale","notesMap","stringsNum","fretsNum","self","play_iterator","nums","noteEntry","n","innerHTML","is_playing","startPlayFret","time","currentTime","osc","createOscillator","connect","destination","frequency","value","start","stop","playClick","setTimeout","bpm","playing_fret","tabs_to_play","get_selected_frets","async","tuningOffset","parseInt","mapSeries","err","changeDirection","toggleDirection","repeat","playScale","get_frets","j","end1","asc1","getClearFrets","selectorWidth","selectorFretsCount","fretWidth","selector","selectorX","string","sN","fN","needle","fret_offset","_sN","_fN","fretHeight","onSelectorMove","timeout","direction","ret_tabs","strings","object","reverse","offsetTop","StringsList","num","SelectorComp","active","margin","Button","variant","onClick","stopPlayScale","icon","faStop","faPlay","notesOptions","label","scalesOptions","ScalesPage","result1","v","tuningName","join","flexDirection","zIndex","paddingBottom","options","placeholder","searchable","values","onChange","Number","target","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.26bbfe8f.chunk.js","sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var Emitter, emitter,\n    __slice = [].slice;\n\n  Emitter = function() {\n    var callbacks, callbacks_map, pub, sub, unsub;\n    callbacks = {};\n    sub = function(ev, callback) {\n      var calls, evs, name, _i, _len, _results;\n      evs = ev.split(' ');\n      calls = callbacks;\n      _results = [];\n      for (_i = 0, _len = evs.length; _i < _len; _i++) {\n        name = evs[_i];\n        callbacks[name] || (callbacks[name] = []);\n        _results.push(callbacks[name].push(callback));\n      }\n      return _results;\n    };\n    pub = function() {\n      var args, callback, ev, _i, _len, _ref;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      ev = args.shift();\n      if (!callbacks[ev]) {\n        return;\n      }\n      _ref = callbacks[ev];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        callback = _ref[_i];\n        if (callback.apply(null, args) === false) {\n          break;\n        }\n      }\n      return true;\n    };\n    unsub = function(ev, callback) {\n      var cb, evs, i, list, name, _i, _len, _results;\n      evs = ev.split(' ');\n      _results = [];\n      for (_i = 0, _len = evs.length; _i < _len; _i++) {\n        name = evs[_i];\n        list = callbacks[name];\n        if (!list) {\n          continue;\n        }\n        if (!callback) {\n          delete callbacks[name];\n          continue;\n        }\n        _results.push((function() {\n          var _j, _len1, _results1;\n          _results1 = [];\n          for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {\n            cb = list[i];\n            if (!(cb === callback)) {\n              continue;\n            }\n            list = list.slice();\n            list.splice(i, 1);\n            callbacks[name] = list;\n            break;\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n    callbacks_map = function() {\n      return callbacks;\n    };\n    return {\n      sub: sub,\n      pub: pub,\n      unsub: unsub,\n      callbacks_map: callbacks_map\n    };\n  };\n\n  emitter = new Emitter();\n\n  module.exports = {\n    emitter: emitter,\n    Emitter: Emitter\n  };\n\n}).call(this);\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS202: Simplify dynamic range loops\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nlet A, Ad, B, C, Cd, D, Dd, E, F, Fd, G, Gd, ref;\n\nexport const ALL_NOTES = \n    [\"C\", \"C#\", \"Db\", \"D\", \"D#\", \"Eb\", \"E\", \"Fb\", \"F\", \"F#\", \"Gb\", \"G\", \"G#\", \"Ab\", \"A\", \"A#\", \"Bb\", \"B\", \"Cb\"];\n\nexport const SHARP_NOTES =\n  (([C, Cd, D, Dd, E, F, Fd, G, Gd, A, Ad, B] = Array.from(\n    (ref = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"])\n  )),\n  ref);\n\nexport const FLAT_NOTES =\n  (([C, Cd, D, Dd, E, F, Fd, G, Gd, A, Ad, B] = Array.from(\n    (ref = [\"C\", \"Db\", \"D\", \"Eb\", \"E\", \"F\", \"Gb\", \"G\", \"Ab\", \"A\", \"Bb\", \"B\"])\n  )),\n  ref);\n\nexport type Tuning = {\n    name: string,\n    notes: string[],\n    offset: number[]\n}\n\nexport const TUNINGS: Record<string, Tuning> = {\n  Standard: {\n    name: \"Standard E\",\n    notes: [E, B, G, D, A, E],\n    offset: [0, 0, 0, 0, 0, 0],\n  },\n\n  DropD: {\n    name: \"Dropped D\",\n    notes: [E, B, G, D, A, D],\n    offset: [0, 0, 0, 0, 0, -2],\n  },\n\n  \"1StepDown\": {\n    name: \"1 step down\",\n    notes: [Dd, Ad, Fd, Cd, Gd, Dd],\n    offset: [-1, -1, -1, -1, -1, -1],\n  },\n\n  DropC: {\n    name: \"Dropped C\",\n    notes: [D, A, F, C, G, C],\n    offset: [-2, -2, -2, -2, -2, -4],\n  },\n};\n\nexport const get_note_index = (note: string, notes: string[]) => {\n  for (let i = 0; i < notes.length; i++) {\n    const n = notes[i];\n    if (note === n) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nexport const get_new_index = (old_idx: number, notes: string[]) => {\n  if (old_idx === notes.length - 1) {\n    return 0;\n  } else {\n    return old_idx + 1;\n  }\n};\n\nexport const getNoteGenerator = (note: string, notes: string[]) => {\n  let idx = get_note_index(note, notes);\n  return () => {\n    const ret_idx = idx;\n    idx = get_new_index(idx, notes);\n    return notes[ret_idx];\n  };\n};\n\n// Concatting because of consistency with tabs format\n// to make 1st element of array to be the 1st string\nexport const generateNotes = (sCount: number, fCount: number, tuning: any, notes: string[]) => {\n  const base: string[][] = [[]];\n  return base.concat(\n    (() => {\n      const result = [];\n      for (\n        let sNum = 0, end = sCount - 1, asc = 0 <= end;\n        asc ? sNum <= end : sNum >= end;\n        asc ? sNum++ : sNum--\n      ) {\n        const noteGen = getNoteGenerator(tuning[sNum], notes);\n        result.push(__range__(0, fCount, true).map(() => noteGen()));\n      }\n      return result;\n    })()\n  );\n};\n\nfunction __range__(left: number, right: number, inclusive: boolean) {\n  let range = [];\n  let ascending = left < right;\n  let end = !inclusive ? right : ascending ? right + 1 : right - 1;\n  for (let i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n    range.push(i);\n  }\n  return range;\n}\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport { get_note_index, get_new_index, SHARP_NOTES, FLAT_NOTES } from \"./notes\";\nimport * as _ from 'lodash';\nimport { notEqual } from \"assert\";\n\nconst BigSTEP = 3;\nconst STEP = 2;\nconst hSTEP = 1;\n\nexport type NoteEntry = {\n  name: string;\n  degree: number;\n  scaleName: string;\n};\n\nconst generate_scale_helper = (notesRef: string[], Note: string, scale: Scale): NoteEntry[] => {\n  let idx;\n  const scale_notes = [\n    {\n      name: Note,\n      degree: 1,\n      scaleName: \"Root\",\n    },\n  ];\n  idx = get_note_index(Note, notesRef);\n  let degree = 0;\n  return scale_notes.concat(\n    (() => {\n      const result = [];\n      for (let s of Array.from(scale.size)) {\n        if (s === BigSTEP) {\n          idx = get_new_index(idx, notesRef);\n          idx = get_new_index(idx, notesRef);\n          idx = get_new_index(idx, notesRef);\n        } else if (s === STEP) {\n          idx = get_new_index(idx, notesRef);\n          idx = get_new_index(idx, notesRef);\n        } else {\n          idx = get_new_index(idx, notesRef);\n        }\n        result.push({\n          name: notesRef[idx],\n          degree: degree + 2,\n          scaleName: scale.names[degree],\n        });\n        degree++;\n      }\n      return result;\n    })()\n  );\n};\n\nconst generate_scale = (Note: string, scale: Scale): {\n    notes: string[], scale: NoteEntry[]\n } => {\n    const withSharps = generate_scale_helper(SHARP_NOTES, Note, scale);\n    const withFlats = generate_scale_helper(FLAT_NOTES, Note, scale);\n\n    function isValidScale(scale: NoteEntry[]) {\n        return _.uniq(scale.map((s) => s.name[0])).length === scale.length;\n    }\n\n    console.log({Note});\n\n    if (Note.includes('b')) {\n        return {scale: withFlats, notes: FLAT_NOTES};\n    }\n    \n    if (Note.includes('#')) {\n    return {scale: withSharps, notes: SHARP_NOTES};\n    }\n\n    if (!isValidScale(withSharps)) {\n        return {scale: withFlats, notes: FLAT_NOTES};\n    }\n\n    return {scale: withSharps, notes: SHARP_NOTES};\n}\n\ntype Scale = {\n  desc: string;\n  size: number[];\n  get_notes: (s: string) => any;\n  names: string[];\n};\n\nconst SCALES: Record<string, Scale> = {\n  Major: {\n    desc: \"Major scale\",\n    size: [STEP, STEP, hSTEP, STEP, STEP, STEP, hSTEP],\n    names: [\n      \"major 2nd\",\n      \"major 3rd\",\n      \"perfect 4th\",\n      \"perfect 5th\",\n      \"major 6th\",\n      \"major 7th\",\n      \"octave\",\n    ],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Major);\n    },\n  },\n\n  Minor: {\n    desc: \"Minor scale\",\n    names: [\n      \"major 2nd\",\n      \"minor 3rd\",\n      \"perfect 4th\",\n      \"perfect 5th\",\n      \"minor 6th\",\n      \"minor 7th\",\n      \"octave\",\n    ],\n    size: [STEP, hSTEP, STEP, STEP, hSTEP, STEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Minor);\n    },\n  },\n\n  Arabic: {\n    desc: \"Arabic scale\",\n    names: [],\n    size: [hSTEP, BigSTEP, hSTEP, hSTEP, BigSTEP, hSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Arabic);\n    },\n  },\n\n  Blues: {\n    desc: \"Blues scale\",\n    names: [],\n    size: [BigSTEP, STEP, hSTEP, hSTEP, BigSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Blues);\n    },\n  },\n\n  PentatonicMinor: {\n    desc: \"Pentatonic Minor\",\n    names: [\"minor 3rd\", \"perfect 4th\", \"perfect 5th\", \"minor 7th\", \"octave\"],\n    size: [BigSTEP, STEP, STEP, BigSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.PentatonicMinor);\n    },\n  },\n\n  PentatonicMajor: {\n    desc: \"Pentatonic Major\",\n    names: [\"major 3rd\", \"perfect 4th\", \"perfect 5th\", \"major 7th\", \"octave\"],\n    size: [STEP, STEP, BigSTEP, STEP, BigSTEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.PentatonicMajor);\n    },\n  },\n};\n\nexport { SCALES, generate_scale, STEP, hSTEP, BigSTEP };\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport Howl, { HowlCallback, HowlErrorCallback } from 'howler';\n\nconst sounds_cache: Record<number, Record<number, Howl.Howl>> = {1:{}, 2:{}, 3:{}, 4:{}, 5:{}, 6:{}};\n\n\nexport const load_fret = (sNum: number, fNum: number, cb: Function) => {\n    // console.log({cb})\n    if (!sounds_cache[sNum][fNum]) {\n        // console.log('loading')\n        let sound: Howl.Howl;\n        return sound = get_sound(sNum, fNum, () => {\n            // console.log('got')\n            sounds_cache[sNum][fNum] = sound;\n            return (typeof cb === 'function' ? cb() : undefined);\n        });\n    } else {\n        return (typeof cb === 'function' ? cb() : undefined);\n    }\n};\n\n\nexport const play_fret = (sNum: number, fNum: number, cb: HowlErrorCallback) => {\n    const cacheSound = sounds_cache[sNum][fNum];\n    if (cacheSound) {\n        cacheSound.once('end', cb);\n        cacheSound.play();\n    } else {\n        const sound = get_sound(sNum, fNum, () => {\n            sound.once('end', cb);\n            sound.play();\n        });\n        return sounds_cache[sNum][fNum] = sound;\n    }\n};\n\nexport const get_sound = (sNum: number, fNum: number, onload: HowlCallback): Howl.Howl => {\n    const audio_file_wav = `./resources/${sNum}string/wav/${fNum}.wav`;\n    const audio_file_ogg = `./resources/${sNum}string/ogg/${fNum}.ogg`;\n    const audio_file_mp3 = `./resources/${sNum}string/mp3/${fNum}.mp3`;\n    return new Howl.Howl({src: [audio_file_ogg, audio_file_mp3, audio_file_wav], onload});\n};\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport React from \"react\";\n\nimport { emitter } from \"./ev_channel\";\n\nimport { EVENT_SOUNDS_LOADING_START, EVENT_SOUNDS_LOADING_STOP } from \"./defs\";\n\ntype Position = {\n  x?: number;\n  y?: number;\n};\n\nexport type SelectorProps = {\n  useX?: boolean;\n  useY?: boolean;\n  minX: number;\n  maxX: number;\n  onXChange: Function;\n  initialPos?: Position;\n  loader?: boolean;\n  height: number;\n  width: number;\n};\ntype MyState = {\n  loaderFontSize: number;\n  dragging: boolean;\n  relx: number;\n  pos: Position;\n  loader: boolean;\n};\n\nexport default class Selector extends React.Component<SelectorProps, MyState> {\n  state: MyState = {} as MyState;\n  elRef: React.RefObject<HTMLDivElement>;\n\n  componentDidMount() {\n    emitter.sub(EVENT_SOUNDS_LOADING_START, this.turnOnLoader);\n    return emitter.sub(EVENT_SOUNDS_LOADING_STOP, this.turnOffLoader);\n  }\n\n  constructor(props: SelectorProps) {\n    super(props);\n\n    this.elRef = React.createRef();\n\n    this.state = {\n      pos: props.initialPos || {x: 0, y: 0},\n      dragging: false,\n      relx: 0,\n      loader: !!props.loader,\n      loaderFontSize: 20,\n    };\n  }\n\n  turnOnLoader = () => {\n    return this.setState({ loader: true });\n  }\n\n  turnOffLoader = () => {\n    return this.setState({ loader: false });\n  }\n\n  render() {\n    return (\n      <div\n        ref={this.elRef}\n        className=\"col-md-4 selector\"\n        style={{\n          height: this.props.height,\n          width: this.props.width,\n          left: `${this.state.pos.x}px`,\n          top: `${this.state.pos.y}px`,\n          position: \"absolute\",\n        }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            background: \"black\",\n            textAlign: \"center\",\n            position: \"relative\",\n            opacity: 0.5,\n            paddingTop: `${this.props.height / 2 - this.state.loaderFontSize}px`,\n            display: this.state.loader ? \"block\" : \"none\",\n          }}\n        >\n          <span\n            style={{\n              opacity: 1,\n              color: \"white\",\n              fontSize: `${this.state.loaderFontSize}px`,\n              // \"textAlign:\": \"center\",\n              fontStyle: \"italic\",\n            }}\n          >\n            loading\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidUpdate(props: SelectorProps, state: MyState) {\n    if (this.state.dragging && !state.dragging) {\n      document.addEventListener(\"mousemove\", this.onMouseMove);\n      return document.addEventListener(\"mouseup\", this.onMouseUp as any);\n    } else if (!this.state.dragging || !state.dragging) {\n      document.removeEventListener(\"mousemove\", this.onMouseMove);\n      return document.removeEventListener(\"mouseup\", this.onMouseUp as any);\n    }\n  }\n\n  onMouseDown = (e: React.MouseEvent | MouseEvent) => {\n    if (e.button !== 0) {\n      return;\n    }\n    const left = this.elRef.current?.offsetLeft || 0;\n    const relx = e.pageX - left;\n    this.setState({ dragging: true, relx });\n    console.log({left, relx, dragging: true})\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n\n  onMouseUp = (e: React.MouseEvent) => {\n    this.setState({ dragging: false });\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n\n  onMouseMove = (e: MouseEvent) => {\n    if (!this.state.dragging) {\n      console.log('not draggin')\n      return;\n    }\n\n    const pos = {} as { x: number | undefined };\n    const newX = e.pageX - this.state.relx;\n    const { minX, maxX, useX } = this.props;\n\n    if (newX >= minX && newX <= maxX) {\n      pos.x = newX;\n    } else if (newX <= minX) {\n      pos.x = minX;\n    } else if (newX >= maxX) {\n      pos.x = maxX;\n    }\n\n    console.log({pos, newX, minX, maxX, useX, ch: this.props.onXChange})\n\n    if (typeof this.props.onXChange === \"function\") {\n      this.props.onXChange(pos.x);\n    }\n\n    this.setState({ pos });\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n}\n","export const EVENT_SOUNDS_LOADING_START = \"EVENT_SOUNDS_LOADING_START\";\nexport const EVENT_SOUNDS_LOADING_STOP = \"EVENT_SOUNDS_LOADING_STOP\";\n","export const blFret = (\n  sNum: number,\n  fNum: number,\n  note: string,\n  checked: boolean,\n  playing: boolean,\n  selected?: boolean,\n  root_note?: boolean,\n  is_open?: boolean\n) => {\n  if (!checked) {\n    checked = false;\n  }\n  if (!playing) {\n    playing = false;\n  }\n  if (!selected) {\n    selected = false;\n  }\n  if (!root_note) {\n    root_note = false;\n  }\n  if (!is_open) {\n    is_open = false;\n  }\n\n  return {\n    data() {\n      return { sNum, fNum, note, checked, playing, selected, root_note, is_open };\n    },\n    playStart() {\n      return (playing = true);\n    },\n    playStop() {\n      return (playing = false);\n    },\n    check() {\n      return (checked = true);\n    },\n    uncheck() {\n      return (checked = false);\n    },\n    select() {\n      return (selected = true);\n    },\n    unselect() {\n      return (selected = false);\n    },\n    set_root() {\n      return (root_note = true);\n    },\n    set_open() {\n      return (is_open = true);\n    },\n  };\n};\n\ntype ReturnType<T> = T extends (...args: any[]) => infer R ? R : any;\nexport type BlFret = ReturnType<typeof blFret>;","import React from \"react\";\n\nexport type FretData =  {\n  checked: boolean;\n  playing: boolean;\n  selected?: boolean;\n  root_note?: boolean;\n  is_open?: boolean;\n  note: string;\n}\n\nconst Fret = (props: {\n  width: number;\n  height: number;\n  data: FretData;\n}) => {\n  let text = \"\";\n  let fretClass = \"fret\";\n\n  let className = props.data.checked ? \"on shadow\" : \"off\";\n  if (props.data.checked && props.data.selected) {\n    className = \"on-selected shadow\";\n  }\n\n  if (props.data.root_note) {\n    className = \"on-selected-root shadow\";\n  }\n\n  if (props.data.checked) {\n    text = props.data.note;\n  }\n\n  const playClass = props.data.playing ? \"playing\" : \"\";\n\n  if (props.data.is_open) {\n    if (!props.data.checked) {\n      className = `${className} open shadow`;\n    }\n    text = props.data.note;\n    fretClass = \"\";\n  }\n\n  return (\n    <div\n      className={`col-md-1 ${fretClass} padding0`}\n      style={{\n        width: props.width,\n        height: props.height,\n      }}\n    >\n      <span className=\"string\"></span>\n      <span className={`circleBase ${className} ${playClass}`}>{text}</span>\n    </div>\n  );\n};\n\nexport default Fret;\n","import React from \"react\";\nimport { BlFret } from \"./blFret\";\nimport Fret from \"./Fret\";\n\n\nconst GString = (props: {\n  Fwidth: number,\n  Fheight: number,\n  data: {\n    frets: Record<number, BlFret>\n\n  }\n}) => {\n  let fret;\n  const make_fret = (fret: any) =>\n    (<Fret\n      key={`fret_${fret.data().sNum}${fret.data().fNum}`}\n      data={fret.data()}\n      width={props.Fwidth}\n      height={props.Fheight}\n    />);\n\n  const frets = [\n    (() => {\n      const result = [];\n      for (let fNum in props.data.frets) {\n        fret = props.data.frets[fNum];\n        result.push(make_fret(fret));\n      }\n      return result;\n    })(),\n  ];\n  return (<div className=\"row\">{frets}</div>);\n}\n\nexport default GString;","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS201: Simplify complex destructure assignments\n * DS202: Simplify dynamic range loops\n * DS204: Change includes calls to have a more natural evaluation order\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport async from \"async\";\nimport React from \"react\";\nimport * as _ from \"lodash\";\n\nimport { emitter } from \"./ev_channel\";\nimport { generateNotes } from \"./notes\";\nimport { play_fret, load_fret } from \"./notes_sound\";\nimport Selector, { SelectorProps } from \"./selector\";\nimport { NoteEntry, SCALES } from \"./scales\";\nimport { EVENT_SOUNDS_LOADING_START, EVENT_SOUNDS_LOADING_STOP } from \"./defs\";\nimport { BlFret, blFret } from \"./blFret\";\nimport GString from \"./GString\";\n\nimport Button from \"react-bootstrap/Button\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\n\nconst audioContext = new AudioContext();\n\nfunction playClick() {\n  const time = audioContext.currentTime;\n  const noteLength = 0.05;\n  const beatNumber = 0;\n  // create an oscillator\n  var osc = audioContext.createOscillator();\n  osc.connect(audioContext.destination);\n  if (beatNumber % 16 === 0)\n    // beat 0 == high pitch\n    osc.frequency.value = 880.0;\n  else if (beatNumber % 4 === 0)\n    // quarter notes = medium pitch\n    osc.frequency.value = 440.0;\n  // other 16th notes = low pitch\n  else osc.frequency.value = 220.0;\n\n  osc.start(time);\n  osc.stop(time + noteLength);\n}\n\nconst getClearFrets = (\n  sNum: number,\n  fNum: number,\n  notesMap: Record<number, Record<number, string>>\n) => {\n  const frets: Record<number, Record<number, BlFret>> = {};\n  for (let i = 1, end = sNum, asc = 1 <= end; asc ? i <= end : i >= end; asc ? i++ : i--) {\n    frets[i] = {};\n    for (let j = 0, end1 = fNum, asc1 = 0 <= end1; asc1 ? j <= end1 : j >= end1; asc1 ? j++ : j--) {\n      frets[i][j] = blFret(i, j, notesMap[i][j], false, false);\n    }\n  }\n  return frets;\n};\n\ntype Tuning = any;\n\ntype MyProps = {\n  tuning: Tuning;\n  data?: {\n    fretsNum: number;\n    stringsNum: number;\n  };\n  selectorFretsCount: number;\n  fretWidth: number;\n  fretHeight: number;\n  Scale: string;\n  Note: string;\n  bpm: number;\n};\ntype MyState = {\n  selectorX: number;\n  is_playing: boolean;\n  playing_fret?: FretType;\n  timeout: number;\n  changeDirection: boolean;\n  repeat: boolean;\n  direction: string;\n  selector: SelectorProps;\n  stringsNum: number;\n  fretsNum: number;\n  selectorFretsCount: number;\n};\n\ntype FretType = [number, number];\n\nexport default class Guitar extends React.Component<MyProps, MyState> {\n  jsGuitarRef: React.RefObject<HTMLDivElement>;\n  displayRef: React.RefObject<HTMLHeadingElement>;\n\n  startPlayFret(fret: FretType) {\n    return this.setState({ playing_fret: fret });\n  }\n\n  playScaleHelper = (): any => {\n    const { scale, notes } = SCALES[this.props.Scale].get_notes(this.props.Note);\n\n    const notesMap = generateNotes(\n      this.state.stringsNum,\n      this.state.fretsNum,\n      this.props.tuning.notes,\n      notes\n    );\n\n    const self = this;\n    const play_iterator = (nums: number[], cb: Function) => {\n      const [sNum, fNum] = nums;\n      const note = notesMap[sNum][fNum];\n      // console.log({note});\n      // console.log(notes);\n      const noteEntry: NoteEntry = _.find(scale, (n) => n.name === note);\n\n      this.displayRef.current!.innerHTML = `${noteEntry.name} - ${noteEntry.scaleName}`;\n\n      if (!self.state.is_playing) {\n        console.log(\"not playing anymore so canceling\");\n        self.setState({ playing_fret: undefined });\n        cb(\"stop\");\n      } else {\n        console.log(\"doing the thing at \", { sNum, fNum });\n        self.startPlayFret([sNum, fNum]);\n        playClick();\n        setTimeout(cb, (60 * 1000) / this.props.bpm);\n      }\n      // NOTE: bring this back for sound. mildly broken\n      // const tuningOffset = self.props.tuning.offset[sNum - 1];\n      // return play_fret(sNum, parseInt(fNum) + tuningOffset, () =>\n      //   setTimeout(() => {\n      //     self.setState({ playing_fret: undefined });\n      //     if (self.state.is_playing) {\n      //       return typeof cb === \"function\" ? cb() : undefined;\n      //     } else {\n      //       return typeof cb === \"function\" ? cb(\"stop\") : undefined;\n      //     }\n      //   }, self.state.timeout)\n      // );\n    };\n\n    const tabs_to_play = this.get_selected_frets();\n    // console.log(tabs_to_play);\n\n    const load_iterator = (...args: any) => {\n      const [sNum, fNum] = Array.from(args[0]),\n        cb = args[1];\n      const tuningOffset = self.props.tuning.offset[sNum - 1];\n      console.log(\"loading fret!\", { sNum, fNum });\n      return load_fret(sNum, parseInt(fNum) + tuningOffset, cb);\n    };\n\n    emitter.pub(EVENT_SOUNDS_LOADING_START);\n    return async.map(tabs_to_play, load_iterator, () => {\n      console.log(\"done!\");\n      emitter.pub(EVENT_SOUNDS_LOADING_STOP);\n      return async.mapSeries(tabs_to_play, play_iterator, (err) => {\n        if (!self.state.is_playing) {\n          return;\n        }\n        if (self.state.changeDirection) {\n          self.toggleDirection();\n        }\n\n        if (self.state.repeat) {\n          return self.playScale();\n        } else {\n          return self.setState({ is_playing: false });\n        }\n      });\n    });\n  };\n\n  playScale(): any {\n    console.log(\"setting playing to true\");\n    this.setState({ is_playing: true }, () => {\n      this.playScaleHelper();\n    });\n  }\n\n  stopPlayScale() {\n    return this.setState({ is_playing: false });\n  }\n\n  toggleDirection() {\n    if (this.state.direction === \"UP\") {\n      return this.setState({ direction: \"DOWN\" });\n    } else {\n      return this.setState({ direction: \"UP\" });\n    }\n  }\n\n  get_selected_frets() {\n    let sNum;\n    let string, fret;\n    const ret_tabs = [];\n\n    let strings: [BlFret, number][] = (() => {\n      const result: [BlFret, number][] = [];\n      const object = this.get_frets();\n      _.each(object, (string: Record<number, BlFret>, sN) => {\n        result.push([string as any, (sN as unknown) as number]);\n      });\n      return result;\n    })();\n    if (this.state.direction === \"DOWN\") {\n      strings = strings.reverse();\n    }\n\n    for ([string, sNum] of Array.from(strings)) {\n      let fNum;\n      let frets: [BlFret, number][] = [];\n      _.each(string, (fret, fN) => {\n        frets.push([fret as any, (fN as unknown) as number]);\n      });\n\n      if (this.state.direction === \"UP\") {\n        frets = frets.reverse();\n      }\n\n      for ([fret, fNum] of Array.from(frets)) {\n        if (fret.data().selected && fret.data().checked) {\n          ret_tabs.push([sNum, fNum]);\n        }\n      }\n    }\n    return ret_tabs;\n  }\n\n  componentDidMount() {\n    if (!this.jsGuitarRef.current) {\n      return;\n    }\n    const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n    const { selector } = this.state;\n    const selectorX = this.jsGuitarRef.current.offsetLeft;\n    selector.initialPos = { x: selectorX, y: this.jsGuitarRef.current.offsetTop };\n    selector.minX = selectorX;\n    selector.maxX = selectorX + (this.state.fretsNum + 1) * this.props.fretWidth - selectorWidth;\n    return this.setState({ selector, selectorX });\n  }\n\n  constructor(props: MyProps) {\n    super(props);\n\n    this.displayRef = React.createRef();\n\n    const stringsNum = (props.data != null ? props.data.stringsNum : undefined) || 6;\n    const fretsNum = (props.data != null ? props.data.fretsNum : undefined) || 16;\n    const selectorFretsCount = props.selectorFretsCount || 4;\n    const timeout = 400;\n    let selector = null;\n    const is_playing = false;\n    const direction = \"DOWN\";\n    const repeat = false;\n    const changeDirection = false;\n    const selectorWidth = selectorFretsCount * props.fretWidth;\n    const playing_fret = undefined;\n\n    this.jsGuitarRef = React.createRef();\n\n    selector = {\n      height: stringsNum * props.fretHeight,\n      width: selectorWidth,\n      onXChange: (x: number) => this.onSelectorMove(x),\n      minX: -1,\n      maxX: -1,\n    };\n\n    this.state = {\n      stringsNum,\n      fretsNum,\n      timeout,\n      selector,\n      is_playing,\n      selectorFretsCount,\n      direction,\n      repeat,\n      changeDirection,\n      playing_fret,\n      selectorX: 0,\n    };\n  }\n\n  onSelectorMove(x: number) {\n    return this.setState({ selectorX: x, is_playing: false });\n  }\n\n  get_frets = (): Record<number, Record<number, BlFret>> => {\n    const { scale, notes } = SCALES[this.props.Scale].get_notes(this.props.Note);\n\n    const notesMap = generateNotes(\n      this.state.stringsNum,\n      this.state.fretsNum,\n      this.props.tuning.notes,\n      notes\n    );\n\n    const frets = getClearFrets(this.state.stringsNum, this.state.fretsNum, notesMap);\n    const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n\n    if (!this.state.selector.initialPos) {\n      return frets;\n    }\n\n    const x = this.state.selectorX;\n\n    _.each(frets, (string, sN) => {\n      for (let fN in string) {\n        let needle;\n        const fret = string[fN];\n        const fret_offset =\n          (this.state.selector?.initialPos?.x || 0) +\n          ((fN as unknown) as number) * this.props.fretWidth;\n\n        if (fret_offset >= x && fret_offset < x + selectorWidth) {\n          fret.select();\n        }\n\n        if (fret.data().note === this.props.Note) {\n          fret.set_root();\n        }\n\n        if (this.state.playing_fret && this.state.is_playing) {\n          const [_sN, _fN] = Array.from(this.state.playing_fret);\n          if (_sN === ((sN as unknown) as number) && _fN === ((fN as unknown) as number)) {\n            fret.playStart();\n          }\n        }\n\n        if (\n          ((needle = fret.data().note),\n          Array.from(scale.map((n: NoteEntry) => n.name)).includes(needle))\n        ) {\n          fret.check();\n        }\n\n        if (fN === \"0\") {\n          fret.set_open();\n        }\n      }\n    });\n\n    return frets;\n  };\n\n  render() {\n    const frets = this.get_frets();\n\n    const StringsList = __range__(0, this.state.stringsNum, true).map((num) => {\n      return (\n        <GString\n          key={`string_item_${num}`}\n          data={{\n            frets: frets[num],\n          }}\n          Fwidth={this.props.fretWidth}\n          Fheight={this.props.fretHeight}\n        />\n      );\n    });\n\n    const SelectorComp = (() => {\n      if (this.state.selector.initialPos) {\n        if (this.state.selector) {\n          return <Selector {...this.state.selector} />;\n        }\n      } else {\n        return <div></div>;\n      }\n    })();\n\n    const FretNumbers = (\n      <div className=\"row\" style={{ margin: 0 }}>\n        {__range__(0, this.state.fretsNum, true).map((num) => {\n          let active = \"\";\n          const x = this.state.selectorX;\n          if (x) {\n            const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n            const fret_offset =\n              (this.state.selector.initialPos?.x || 0) + num * this.props.fretWidth;\n            if (fret_offset >= x && fret_offset < x + selectorWidth) {\n              active = \"active-num\";\n            }\n          }\n          return (\n            <div\n              key={`fret_num_${num}`}\n              className={`col-md-1 fretnum ${active}`}\n              style={{ width: `${this.props.fretWidth}px` }}\n            >\n              {num}\n            </div>\n          );\n        })}\n      </div>\n    );\n\n    return (\n      <div\n        style={{\n          width: (this.state.fretsNum + 1) * this.props.fretWidth,\n          margin: \"auto\",\n        }}\n      >\n        <div className=\"js-guitar\" ref={this.jsGuitarRef}>\n          {SelectorComp}\n          {StringsList}\n        </div>\n        <div>\n          <Button\n            variant=\"outline-primary\"\n            onClick={() => (this.state.is_playing ? this.stopPlayScale() : this.playScale())}\n          >\n            {this.state.is_playing ? (\n              <FontAwesomeIcon icon={faStop} />\n            ) : (\n              <FontAwesomeIcon icon={faPlay} />\n            )}\n          </Button>\n        </div>\n        <h1\n          ref={this.displayRef}\n          style={{ display: this.state.is_playing ? \"block\" : \"none\" }}\n        ></h1>\n      </div>\n    );\n\n    // return div(\n    //   {\n    //     style: {\n    //       width: (this.state.fretsNum + 1) * this.props.fretWidth,\n    //       margin: \"auto\",\n    //     },\n    //   },\n    //   div({ className: \"js-guitar\" }, SelectorComp, StringsList),\n    //   FretNumbers,\n    //   div(\n    //     { className: \"text-center\" },\n    //     div(\n    //       { className: \"btn-group bot-toolbar panel panel-default\" },\n    //       button(\n    //         {\n    //           className: \"btn btn-default\",\n    //           onClick: this.state.is_playing ? this.stopPlayScale : this.playScale,\n    //         },\n    //         this.state.is_playing\n    //           ? span({ className: \"glyphicon glyphicon-stop\" }, \"\")\n    //           : span({ className: \"glyphicon glyphicon-play\" }, \"\")\n    //       ),\n    //       ToggleButton(\n    //         { onChange: () => this.toggleDirection() },\n    //         this.state.direction === \"UP\"\n    //           ? span({ className: \"glyphicon glyphicon-arrow-down\" })\n    //           : span({ className: \"glyphicon glyphicon-arrow-up\" })\n    //       ),\n    //       ToggleButton(\n    //         { onChange: (repeat) => this.setState({ repeat }) },\n    //         span({ className: \"glyphicon glyphicon-repeat\" })\n    //       ),\n    //       ToggleButton(\n    //         { onChange: (changeDirection) => this.setState({ changeDirection }) },\n    //         span({ className: \"glyphicon glyphicon-random\" })\n    //       )\n    //     )\n    //   )\n    // );\n  }\n}\n\nfunction __range__(left: number, right: number, inclusive: boolean) {\n  let range = [];\n  let ascending = left < right;\n  let end = !inclusive ? right : ascending ? right + 1 : right - 1;\n  for (let i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n    range.push(i);\n  }\n  return range;\n}\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport React from \"react\";\nimport { SCALES } from \"./../scales\";\nimport { ALL_NOTES, TUNINGS } from \"./../notes\";\n\nimport { STEP, hSTEP, BigSTEP } from \"./../scales\";\nimport Guitar from \"../Guitar\";\n\n// import Select from \"react-select\";\nimport Select from \"react-dropdown-select\";\n\nconst print_size = (size: number[]) =>\n  (() => {\n    const result = [];\n    for (let s of Array.from(size)) {\n      if (s === STEP) {\n        result.push(\"Step\");\n      } else if (s === hSTEP) {\n        result.push(\"hStep\");\n      } else if (s === BigSTEP) {\n        result.push(\"BigSTEP\");\n      } else {\n        result.push(undefined);\n      }\n    }\n\n    return result;\n  })().join(\" - \");\n\nlet tuning;\n\nconst notesOptions = ALL_NOTES.map((note) => ({ value: note, label: note }));\nconst scalesOptions = (() => {\n  const result = [];\n  for (let scale in SCALES) {\n    result.push({ value: scale, label: scale });\n  }\n  return result;\n})();\nconst tuningOptions = (() => {\n  const result1 = [];\n  for (tuning in TUNINGS) {\n    const v = TUNINGS[tuning];\n    result1.push({ value: tuning, label: v.name });\n  }\n  return result1;\n})();\n\ntype MyProps = {};\ntype MyState = {\n  tuning: string;\n  Note: string;\n  Scale: string;\n  bpm: number;\n};\n\nexport default class ScalesPage extends React.Component<MyProps, MyState> {\n  state = {\n    Note: \"C\",\n    Scale: \"Major\",\n    tuning: \"Standard\",\n    bpm: 80,\n  };\n\n  render() {\n    const tuningName = TUNINGS[this.state.tuning].name;\n    return (\n      <div>\n        <div>\n          <h2 className=\"text-center\">\n            {`${this.state.Note} ${this.state.Scale} (${tuningName} tuning)`}\n          </h2>\n\n          <p className=\"text-center text-muted text-bold\">\n            {print_size(SCALES[this.state.Scale].size)}\n          </p>\n          <p className=\"text-center text-bold\">\n            {`${SCALES[this.state.Scale].get_notes(this.state.Note).scale.map((n: any) => n.name).join(\" \")}`}\n          </p>\n          <div>\n            <div style={{ width: \"850px\", margin: \"auto\" }}>\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  zIndex: 10000,\n                  paddingBottom: '20px'\n                }}\n              >\n                <div style={{ width: \"100px\" }}>\n                  <Select\n                    options={notesOptions as any}\n                    placeholder=\"note\"\n                    searchable={false}\n                    values={[{value: this.state.Note, label: this.state.Note}]}\n                    onChange={(n) => this.setState({ Note: (n as any)[0].value })}\n                  />\n                </div>\n                <div style={{ width: \"250px\" }}>\n                  <Select\n                    options={scalesOptions as any}\n                    placeholder=\"scale\"\n                    searchable={false}\n                    values={[{value: this.state.Scale, label: this.state.Scale}]}\n                    onChange={(n) => {\n                      console.log(n);\n                      this.setState({ Scale: (n as any)[0].value });\n                    }}\n                  />\n                </div>\n\n                {/* <div style={{ width: \"150px\" }}>\n                  <Select\n                    options={tuningOptions}\n                    searchable={false}\n                    placeholder=\"tuning\"\n                    values={[this.state.tuning]}\n                    onChange={(n) => this.setState({ tuning: (n as any).value })}\n                  />\n                </div> */}\n\n                <input \n                value={this.state.bpm}\n                onChange={(e: any) => this.setState({bpm: Number(e!.target.value)})}\n                />\n              </div>\n            </div>\n            <Guitar\n              bpm={this.state.bpm}\n              fretWidth={50}\n              fretHeight={30}\n              selectorFretsCount={4}\n              Note={this.state.Note}\n              Scale={this.state.Scale}\n              tuning={TUNINGS[this.state.tuning]}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport logo from './logo.svg';\nimport './css/App.css';\nimport './css/bootstrap.css';\nimport './css/style.css';\nimport ScalesPage from './fretboard/pages/scales_page_component';\n\nfunction App() {\n  return (\n    <ScalesPage/>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}