{"version":3,"sources":["fretboard/ev_channel.js","fretboard/notes.ts","fretboard/scales.ts","fretboard/selector.tsx","fretboard/defs.ts","fretboard/blFret.ts","fretboard/Fret.tsx","fretboard/GString.tsx","fretboard/Guitar.tsx","fretboard/pages/scales_page_component.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Emitter","emitter","__slice","slice","callbacks","sub","ev","callback","evs","name","_i","_len","_results","split","length","push","pub","args","_ref","arguments","call","shift","apply","unsub","i","list","_j","_len1","_results1","splice","callbacks_map","module","exports","this","A","Ad","B","C","Cd","D","Dd","E","F","Fd","G","Gd","ref","SHARP_NOTES","Array","from","FLAT_NOTES","TUNINGS","Standard","notes","offset","DropD","DropC","get_note_index","note","get_new_index","old_idx","generateNotes","sCount","fCount","tuning","concat","result","sNum","end","asc","noteGen","idx","ret_idx","getNoteGenerator","left","right","inclusive","range","ascending","__range__","map","generate_scale_helper","notesRef","Note","scale","scale_notes","degree","scaleName","size","s","_","names","generate_scale","withSharps","withFlats","includes","isValidScale","SCALES","Major","desc","get_notes","Tonica","Minor","Arabic","Blues","PentatonicMinor","PentatonicMajor","MajorArpeggio","MinorArpeggio","Selector","props","state","elRef","turnOnLoader","setState","loader","turnOffLoader","onMouseDown","e","button","current","offsetLeft","relx","pageX","dragging","console","log","stopPropagation","preventDefault","onMouseUp","onMouseMove","pos","newX","minX","maxX","useX","x","ch","onXChange","React","createRef","initialPos","y","loaderFontSize","className","style","height","width","top","position","background","textAlign","opacity","paddingTop","display","color","fontSize","fontStyle","document","addEventListener","removeEventListener","Component","blFret","fNum","checked","playing","selected","root_note","is_open","data","playStart","playStop","check","uncheck","select","unselect","set_root","set_open","Fret","text","fretClass","playClass","GString","fret","make_fret","key","Fwidth","Fheight","frets","clickHowl","Howl","src","playClick","play","Guitar","jsGuitarRef","displayRef","playScaleHelper","firstTime","Scale","notesMap","stringsNum","fretsNum","self","tabs_to_play","get_selected_frets","startAtRoot","async","mapSeries","nums","cb","noteEntry","n","direction","halfToneOffset","innerHTML","is_playing","startPlayFret","setTimeout","bpm","playing_fret","undefined","err","repeat","changeDirection","toggleDirection","playScale","intro","get_frets","j","end1","asc1","getClearFrets","selectorWidth","selectorFretsCount","fretWidth","selector","selectorX","string","sN","fN","needle","fret_offset","_sN","_fN","togglePlayPause","stopPlayScale","fretHeight","onSelectorMove","timeout","originalDirection","done","timesCounted","firstTab","toString","countOff","ret_tabs","strings","object","reverse","shouldInclude","offsetTop","StringsList","num","SelectorComp","SingleDotFrets","FretDots","margin","FretNumbers","active","justifyContent","alignItems","alignContent","backgroundColor","padding","Button","variant","onClick","icon","faStop","faPlay","faRedo","faArrowDown","faArrowUp","faRandom","notesOptions","value","label","scalesOptions","ScalesPage","result1","v","tuningName","join","flexDirection","zIndex","paddingBottom","options","placeholder","searchable","values","onChange","Number","target","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c144512e.chunk.js","sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var Emitter, emitter,\n    __slice = [].slice;\n\n  Emitter = function() {\n    var callbacks, callbacks_map, pub, sub, unsub;\n    callbacks = {};\n    sub = function(ev, callback) {\n      var calls, evs, name, _i, _len, _results;\n      evs = ev.split(' ');\n      calls = callbacks;\n      _results = [];\n      for (_i = 0, _len = evs.length; _i < _len; _i++) {\n        name = evs[_i];\n        callbacks[name] || (callbacks[name] = []);\n        _results.push(callbacks[name].push(callback));\n      }\n      return _results;\n    };\n    pub = function() {\n      var args, callback, ev, _i, _len, _ref;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      ev = args.shift();\n      if (!callbacks[ev]) {\n        return;\n      }\n      _ref = callbacks[ev];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        callback = _ref[_i];\n        if (callback.apply(null, args) === false) {\n          break;\n        }\n      }\n      return true;\n    };\n    unsub = function(ev, callback) {\n      var cb, evs, i, list, name, _i, _len, _results;\n      evs = ev.split(' ');\n      _results = [];\n      for (_i = 0, _len = evs.length; _i < _len; _i++) {\n        name = evs[_i];\n        list = callbacks[name];\n        if (!list) {\n          continue;\n        }\n        if (!callback) {\n          delete callbacks[name];\n          continue;\n        }\n        _results.push((function() {\n          var _j, _len1, _results1;\n          _results1 = [];\n          for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {\n            cb = list[i];\n            if (!(cb === callback)) {\n              continue;\n            }\n            list = list.slice();\n            list.splice(i, 1);\n            callbacks[name] = list;\n            break;\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n    callbacks_map = function() {\n      return callbacks;\n    };\n    return {\n      sub: sub,\n      pub: pub,\n      unsub: unsub,\n      callbacks_map: callbacks_map\n    };\n  };\n\n  emitter = new Emitter();\n\n  module.exports = {\n    emitter: emitter,\n    Emitter: Emitter\n  };\n\n}).call(this);\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS202: Simplify dynamic range loops\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nlet A, Ad, B, C, Cd, D, Dd, E, F, Fd, G, Gd, ref;\n\nexport const ALL_NOTES = \n    [\"C\", \"C#\", \"Db\", \"D\", \"D#\", \"Eb\", \"E\", \"Fb\", \"F\", \"F#\", \"Gb\", \"G\", \"G#\", \"Ab\", \"A\", \"A#\", \"Bb\", \"B\", \"Cb\"];\n\nexport const SHARP_NOTES =\n  (([C, Cd, D, Dd, E, F, Fd, G, Gd, A, Ad, B] = Array.from(\n    (ref = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"])\n  )),\n  ref);\n\nexport const FLAT_NOTES =\n  (([C, Cd, D, Dd, E, F, Fd, G, Gd, A, Ad, B] = Array.from(\n    (ref = [\"C\", \"Db\", \"D\", \"Eb\", \"E\", \"F\", \"Gb\", \"G\", \"Ab\", \"A\", \"Bb\", \"B\"])\n  )),\n  ref);\n\nexport type Tuning = {\n    name: string,\n    notes: string[],\n    offset: number[]\n}\n\nexport const TUNINGS: Record<string, Tuning> = {\n  Standard: {\n    name: \"Standard E\",\n    notes: [E, B, G, D, A, E],\n    offset: [0, 0, 0, 0, 0, 0],\n  },\n\n  DropD: {\n    name: \"Dropped D\",\n    notes: [E, B, G, D, A, D],\n    offset: [0, 0, 0, 0, 0, -2],\n  },\n\n  \"1StepDown\": {\n    name: \"1 step down\",\n    notes: [Dd, Ad, Fd, Cd, Gd, Dd],\n    offset: [-1, -1, -1, -1, -1, -1],\n  },\n\n  DropC: {\n    name: \"Dropped C\",\n    notes: [D, A, F, C, G, C],\n    offset: [-2, -2, -2, -2, -2, -4],\n  },\n};\n\nexport const get_note_index = (note: string, notes: string[]) => {\n  for (let i = 0; i < notes.length; i++) {\n    const n = notes[i];\n    if (note === n) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nexport const get_new_index = (old_idx: number, notes: string[]) => {\n  if (old_idx === notes.length - 1) {\n    return 0;\n  } else {\n    return old_idx + 1;\n  }\n};\n\nexport const getNoteGenerator = (note: string, notes: string[]) => {\n  let idx = get_note_index(note, notes);\n  return () => {\n    const ret_idx = idx;\n    idx = get_new_index(idx, notes);\n    return notes[ret_idx];\n  };\n};\n\n// Concatting because of consistency with tabs format\n// to make 1st element of array to be the 1st string\nexport const generateNotes = (sCount: number, fCount: number, tuning: any, notes: string[]) => {\n  const base: string[][] = [[]];\n  return base.concat(\n    (() => {\n      const result = [];\n      for (\n        let sNum = 0, end = sCount - 1, asc = 0 <= end;\n        asc ? sNum <= end : sNum >= end;\n        asc ? sNum++ : sNum--\n      ) {\n        const noteGen = getNoteGenerator(tuning[sNum], notes);\n        result.push(__range__(0, fCount, true).map(() => noteGen()));\n      }\n      return result;\n    })()\n  );\n};\n\nfunction __range__(left: number, right: number, inclusive: boolean) {\n  let range = [];\n  let ascending = left < right;\n  let end = !inclusive ? right : ascending ? right + 1 : right - 1;\n  for (let i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n    range.push(i);\n  }\n  return range;\n}\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport { get_note_index, get_new_index, SHARP_NOTES, FLAT_NOTES } from \"./notes\";\nimport * as _ from 'lodash';\nimport { notEqual } from \"assert\";\n\nconst BigSTEP = 3;\nconst STEP = 2;\nconst hSTEP = 1;\n\nexport type NoteEntry = {\n  name: string;\n  degree: number;\n  scaleName: string;\n  offset: number;\n};\n\nconst generate_scale_helper = (notesRef: string[], Note: string, scale: Scale): NoteEntry[] => {\n  let idx: number;\n  const scale_notes = [\n    {\n      name: Note,\n      degree: 1,\n      scaleName: \"Root\",\n      offset: 0,\n    },\n  ];\n  idx = get_note_index(Note, notesRef);\n  let degree = 0;\n  let offset = 0;\n  return scale_notes.concat(\n    (() => {\n      const result = [];\n      for (let s of Array.from(scale.size)) {\n        offset += s;\n\n        _.times(s, () => {\n          idx = get_new_index(idx, notesRef);\n        });\n\n        result.push({\n          name: notesRef[idx],\n          degree: degree + 2,\n          scaleName: scale.names[degree],\n          offset,\n        });\n        degree++;\n      }\n      return result;\n    })()\n  );\n};\n\nconst generate_scale = (Note: string, scale: Scale): {\n    notes: string[], scale: NoteEntry[]\n } => {\n    const withSharps = generate_scale_helper(SHARP_NOTES, Note, scale);\n    const withFlats = generate_scale_helper(FLAT_NOTES, Note, scale);\n\n    function isValidScale(scale: NoteEntry[]) {\n        return _.uniq(scale.map((s) => s.name[0])).length === scale.length;\n    }\n\n    if (Note.includes('b')) {\n        return {scale: withFlats, notes: FLAT_NOTES};\n    }\n    \n    if (Note.includes('#')) {\n    return {scale: withSharps, notes: SHARP_NOTES};\n    }\n\n    if (!isValidScale(withSharps)) {\n        return {scale: withFlats, notes: FLAT_NOTES};\n    }\n\n    return {scale: withSharps, notes: SHARP_NOTES};\n}\n\ntype Scale = {\n  desc: string;\n  size: number[];\n  get_notes: (s: string) => any;\n  names: string[];\n};\n\nconst SCALES: Record<string, Scale> = {\n  Major: {\n    desc: \"Major scale\",\n    size: [STEP, STEP, hSTEP, STEP, STEP, STEP, hSTEP],\n    names: [\n      \"Major 2nd\",\n      \"Major 3rd\",\n      \"Perfect 4th\",\n      \"Perfect 5th\",\n      \"Major 6th\",\n      \"Major 7th\",\n      \"Octave\",\n    ],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Major);\n    },\n  },\n\n  Minor: {\n    desc: \"Minor scale\",\n    names: [\n      \"Major 2nd\",\n      \"Minor 3rd\",\n      \"Perfect 4th\",\n      \"Perfect 5th\",\n      \"Minor 6th\",\n      \"Minor 7th\",\n      \"Octave\",\n    ],\n    size: [STEP, hSTEP, STEP, STEP, hSTEP, STEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Minor);\n    },\n  },\n\n  Arabic: {\n    desc: \"Arabic scale\",\n    names: [],\n    size: [hSTEP, BigSTEP, hSTEP, hSTEP, BigSTEP, hSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Arabic);\n    },\n  },\n\n  Blues: {\n    desc: \"Blues scale\",\n    names: [],\n    size: [BigSTEP, STEP, hSTEP, hSTEP, BigSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.Blues);\n    },\n  },\n\n  PentatonicMinor: {\n    desc: \"Pentatonic Minor\",\n    names: [\"Minor 3rd\", \"Perfect 4th\", \"Perfect 5th\", \"Minor 7th\", \"Octave\"],\n    size: [BigSTEP, STEP, STEP, BigSTEP, STEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.PentatonicMinor);\n    },\n  },\n\n  PentatonicMajor: {\n    desc: \"Pentatonic Major\",\n    names: [\"Major 3rd\", \"Perfect 4th\", \"Perfect 5th\", \"Major 7th\", \"Octave\"],\n    size: [STEP, STEP, BigSTEP, STEP, BigSTEP],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.PentatonicMajor);\n    },\n  },\n\n  MajorArpeggio: {\n    desc: \"Major Arpeggio\",\n    names: [\"Major 3rd\", \"Perfect 5th\", \"Octave\"],\n    size: [4, 3, 5],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.MajorArpeggio);\n    },\n  },\n\n  MinorArpeggio: {\n    desc: \"Minor Arpeggio\",\n    names: [\"Minor 3rd\", \"Perfect 5th\", \"Octave\"],\n    size: [3, 4, 5],\n    get_notes(Tonica) {\n      return generate_scale(Tonica, SCALES.MinorArpeggio);\n    },\n  },\n};\n\nexport { SCALES, generate_scale, STEP, hSTEP, BigSTEP };\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport React from \"react\";\n\nimport { emitter } from \"./ev_channel\";\n\nimport { EVENT_SOUNDS_LOADING_START, EVENT_SOUNDS_LOADING_STOP } from \"./defs\";\n\ntype Position = {\n  x?: number;\n  y?: number;\n};\n\nexport type SelectorProps = {\n  useX?: boolean;\n  useY?: boolean;\n  minX: number;\n  maxX: number;\n  onXChange: Function;\n  initialPos?: Position;\n  loader?: boolean;\n  height: number;\n  width: number;\n};\ntype MyState = {\n  loaderFontSize: number;\n  dragging: boolean;\n  relx: number;\n  pos: Position;\n  loader: boolean;\n};\n\nexport default class Selector extends React.Component<SelectorProps, MyState> {\n  state: MyState = {} as MyState;\n  elRef: React.RefObject<HTMLDivElement>;\n\n  componentDidMount() {\n    emitter.sub(EVENT_SOUNDS_LOADING_START, this.turnOnLoader);\n    return emitter.sub(EVENT_SOUNDS_LOADING_STOP, this.turnOffLoader);\n  }\n\n  constructor(props: SelectorProps) {\n    super(props);\n\n    this.elRef = React.createRef();\n\n    this.state = {\n      pos: props.initialPos || {x: 0, y: 0},\n      dragging: false,\n      relx: 0,\n      loader: !!props.loader,\n      loaderFontSize: 20,\n    };\n  }\n\n  turnOnLoader = () => {\n    return this.setState({ loader: true });\n  }\n\n  turnOffLoader = () => {\n    return this.setState({ loader: false });\n  }\n\n  render() {\n    return (\n      <div\n        ref={this.elRef}\n        className=\"col-md-4 selector\"\n        style={{\n          height: this.props.height,\n          width: this.props.width,\n          left: `${this.state.pos.x}px`,\n          top: `${this.state.pos.y}px`,\n          position: \"absolute\",\n        }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            background: \"black\",\n            textAlign: \"center\",\n            position: \"relative\",\n            opacity: 0.5,\n            paddingTop: `${this.props.height / 2 - this.state.loaderFontSize}px`,\n            display: this.state.loader ? \"block\" : \"none\",\n          }}\n        >\n          <span\n            style={{\n              opacity: 1,\n              color: \"white\",\n              fontSize: `${this.state.loaderFontSize}px`,\n              // \"textAlign:\": \"center\",\n              fontStyle: \"italic\",\n            }}\n          >\n            loading\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidUpdate(props: SelectorProps, state: MyState) {\n    if (this.state.dragging && !state.dragging) {\n      document.addEventListener(\"mousemove\", this.onMouseMove);\n      return document.addEventListener(\"mouseup\", this.onMouseUp as any);\n    } else if (!this.state.dragging || !state.dragging) {\n      document.removeEventListener(\"mousemove\", this.onMouseMove);\n      return document.removeEventListener(\"mouseup\", this.onMouseUp as any);\n    }\n  }\n\n  onMouseDown = (e: React.MouseEvent | MouseEvent) => {\n    if (e.button !== 0) {\n      return;\n    }\n    const left = this.elRef.current?.offsetLeft || 0;\n    const relx = e.pageX - left;\n    this.setState({ dragging: true, relx });\n    console.log({left, relx, dragging: true})\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n\n  onMouseUp = (e: React.MouseEvent) => {\n    this.setState({ dragging: false });\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n\n  onMouseMove = (e: MouseEvent) => {\n    if (!this.state.dragging) {\n      console.log('not draggin')\n      return;\n    }\n\n    const pos = {} as { x: number | undefined };\n    const newX = e.pageX - this.state.relx;\n    const { minX, maxX, useX } = this.props;\n\n    if (newX >= minX && newX <= maxX) {\n      pos.x = newX;\n    } else if (newX <= minX) {\n      pos.x = minX;\n    } else if (newX >= maxX) {\n      pos.x = maxX;\n    }\n\n    console.log({pos, newX, minX, maxX, useX, ch: this.props.onXChange})\n\n    if (typeof this.props.onXChange === \"function\") {\n      this.props.onXChange(pos.x);\n    }\n\n    this.setState({ pos });\n    e.stopPropagation();\n    return e.preventDefault();\n  }\n}\n","export const EVENT_SOUNDS_LOADING_START = \"EVENT_SOUNDS_LOADING_START\";\nexport const EVENT_SOUNDS_LOADING_STOP = \"EVENT_SOUNDS_LOADING_STOP\";\n","export const blFret = (\n  sNum: number,\n  fNum: number,\n  note: string,\n  checked: boolean,\n  playing: boolean,\n  selected?: boolean,\n  root_note?: boolean,\n  is_open?: boolean\n) => {\n  if (!checked) {\n    checked = false;\n  }\n  if (!playing) {\n    playing = false;\n  }\n  if (!selected) {\n    selected = false;\n  }\n  if (!root_note) {\n    root_note = false;\n  }\n  if (!is_open) {\n    is_open = false;\n  }\n\n  return {\n    data() {\n      return { sNum, fNum, note, checked, playing, selected, root_note, is_open };\n    },\n    playStart() {\n      return (playing = true);\n    },\n    playStop() {\n      return (playing = false);\n    },\n    check() {\n      return (checked = true);\n    },\n    uncheck() {\n      return (checked = false);\n    },\n    select() {\n      return (selected = true);\n    },\n    unselect() {\n      return (selected = false);\n    },\n    set_root() {\n      return (root_note = true);\n    },\n    set_open() {\n      return (is_open = true);\n    },\n  };\n};\n\ntype ReturnType<T> = T extends (...args: any[]) => infer R ? R : any;\nexport type BlFret = ReturnType<typeof blFret>;","import React from \"react\";\n\nexport type FretData =  {\n  checked: boolean;\n  playing: boolean;\n  selected?: boolean;\n  root_note?: boolean;\n  is_open?: boolean;\n  note: string;\n}\n\nconst Fret = (props: {\n  width: number;\n  height: number;\n  data: FretData;\n}) => {\n  let text = \"\";\n  let fretClass = \"fret\";\n\n  let className = props.data.checked ? \"on shadow\" : \"off\";\n  if (props.data.checked && props.data.selected) {\n    className = \"on-selected shadow\";\n  }\n\n  if (props.data.root_note) {\n    className = \"on-selected-root shadow\";\n  }\n\n  if (props.data.checked) {\n    text = props.data.note;\n  }\n\n  const playClass = props.data.playing ? \"playing\" : \"\";\n\n  if (props.data.is_open) {\n    if (!props.data.checked) {\n      className = `${className} open shadow`;\n    }\n    text = props.data.note;\n    fretClass = \"\";\n  }\n\n  return (\n    <div\n      className={`col-md-1 ${fretClass} padding0`}\n      style={{\n        width: props.width,\n        height: props.height,\n      }}\n    >\n      <span className=\"string\"></span>\n      <span className={`circleBase ${className} ${playClass}`}>{text}</span>\n    </div>\n  );\n};\n\nexport default Fret;\n","import React from \"react\";\nimport { BlFret } from \"./blFret\";\nimport Fret from \"./Fret\";\n\n\nconst GString = (props: {\n  Fwidth: number,\n  Fheight: number,\n  data: {\n    frets: Record<number, BlFret>\n\n  }\n}) => {\n  let fret;\n  const make_fret = (fret: any) =>\n    (<Fret\n      key={`fret_${fret.data().sNum}${fret.data().fNum}`}\n      data={fret.data()}\n      width={props.Fwidth}\n      height={props.Fheight}\n    />);\n\n  const frets = [\n    (() => {\n      const result = [];\n      for (let fNum in props.data.frets) {\n        fret = props.data.frets[fNum];\n        result.push(make_fret(fret));\n      }\n      return result;\n    })(),\n  ];\n  return (<div className=\"row\">{frets}</div>);\n}\n\nexport default GString;","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS201: Simplify complex destructure assignments\n * DS202: Simplify dynamic range loops\n * DS204: Change includes calls to have a more natural evaluation order\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport async from \"async\";\nimport React from \"react\";\nimport * as _ from \"lodash\";\n\nimport { generateNotes } from \"./notes\";\nimport Selector, { SelectorProps } from \"./selector\";\nimport { NoteEntry, SCALES } from \"./scales\";\nimport { BlFret, blFret } from \"./blFret\";\nimport GString from \"./GString\";\n\nimport Button from \"react-bootstrap/Button\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faPlay,\n  faStop,\n  faRedo,\n  faArrowUp,\n  faArrowDown,\n  faRandom,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport Howl, { HowlCallback } from \"howler\";\n\nexport const get_sound = (sNum: number, fNum: number, onload: HowlCallback): Howl.Howl => {\n  const audio_file_wav = `./resources/${sNum}string/wav/${fNum}.wav`;\n  const audio_file_ogg = `./resources/${sNum}string/ogg/${fNum}.ogg`;\n  const audio_file_mp3 = `./resources/${sNum}string/mp3/${fNum}.mp3`;\n  return new Howl.Howl({ src: [audio_file_ogg, audio_file_mp3, audio_file_wav], onload });\n};\n\nconst clickHowl = new Howl.Howl({ src: \"./resources/cowbell.wav\" });\n\nfunction playClick() {\n  clickHowl.play();\n}\n\nconst getClearFrets = (\n  sNum: number,\n  fNum: number,\n  notesMap: Record<number, Record<number, string>>\n) => {\n  const frets: Record<number, Record<number, BlFret>> = {};\n  for (let i = 1, end = sNum, asc = 1 <= end; asc ? i <= end : i >= end; asc ? i++ : i--) {\n    frets[i] = {};\n    for (let j = 0, end1 = fNum, asc1 = 0 <= end1; asc1 ? j <= end1 : j >= end1; asc1 ? j++ : j--) {\n      frets[i][j] = blFret(i, j, notesMap[i][j], false, false);\n    }\n  }\n  return frets;\n};\n\ntype Tuning = any;\n\ntype MyProps = {\n  tuning: Tuning;\n  data?: {\n    fretsNum: number;\n    stringsNum: number;\n  };\n  selectorFretsCount: number;\n  fretWidth: number;\n  fretHeight: number;\n  Scale: string;\n  Note: string;\n  bpm: number;\n};\ntype MyState = {\n  selectorX: number;\n  is_playing: boolean;\n  playing_fret?: FretType;\n  timeout: number;\n  changeDirection: boolean;\n  repeat: boolean;\n  direction: string;\n  originalDirection: string;\n  selector: SelectorProps;\n  stringsNum: number;\n  fretsNum: number;\n  selectorFretsCount: number;\n};\n\ntype FretType = [number, number];\n\nexport default class Guitar extends React.Component<MyProps, MyState> {\n  jsGuitarRef: React.RefObject<HTMLDivElement>;\n  displayRef: React.RefObject<HTMLHeadingElement>;\n\n  startPlayFret(fret: FretType) {\n    return this.setState({ playing_fret: fret });\n  }\n\n  playScaleHelper = ({ firstTime }: { firstTime: boolean }): any => {\n    const { scale, notes } = SCALES[this.props.Scale].get_notes(this.props.Note);\n\n    const notesMap = generateNotes(\n      this.state.stringsNum,\n      this.state.fretsNum,\n      this.props.tuning.notes,\n      notes\n    );\n\n    const self = this;\n    const play_iterator = (nums: number[], cb: Function) => {\n      const [sNum, fNum] = nums;\n      const note = notesMap[sNum][fNum];\n      const noteEntry: NoteEntry = _.find(scale, (n) => n.name === note);\n\n      console.log(this.state.direction);\n      const halfToneOffset =\n        this.state.direction === \"DOWN\"\n          ? `+${noteEntry.offset}`\n          : `-${noteEntry.offset === 0 ? 0 : 12 - noteEntry.offset}`;\n\n      this.displayRef.current!.innerHTML = `${noteEntry.name} - ${noteEntry.scaleName} ${halfToneOffset}`;\n\n      if (!self.state.is_playing) {\n        console.log(\"not playing anymore so canceling\");\n        self.setState({ playing_fret: undefined });\n        cb(\"stop\");\n      } else {\n        console.log(\"doing the thing at \", { sNum, fNum });\n        self.startPlayFret([sNum, fNum]);\n        playClick();\n        setTimeout(cb, (60 * 1000) / this.props.bpm);\n      }\n    };\n\n    const tabs_to_play = this.get_selected_frets({\n      startAtRoot: firstTime\n    });\n    // if we're repeating, don't play the note we just played again\n    if (!firstTime) {\n      tabs_to_play.shift();\n    }\n    // console.log({tabs_to_play});\n\n    return async.mapSeries(tabs_to_play, play_iterator, (err) => {\n      if (!self.state.is_playing) {\n        return;\n      }\n\n      if (self.state.repeat) {\n        if (!firstTime && self.state.changeDirection) {\n          self.toggleDirection();\n        }\n        return self.playScale({ intro: false });\n      } else {\n        return self.setState({ is_playing: false });\n      }\n    });\n  };\n\n  countOff(done: Function) {\n    const countInTimes = 8;\n    let timesCounted = 0;\n\n    const tabs_to_play = this.get_selected_frets({startAtRoot: true});\n    const firstTab = tabs_to_play[0];\n    console.log({firstTab})\n\n    const cb = () => {\n      if (!this.state.is_playing) {\n        return;\n      }\n\n      if (timesCounted % 2 === 0) {\n        this.setState({ playing_fret: firstTab as FretType });\n      } else {\n        this.setState({ playing_fret: undefined });\n      }\n\n      playClick();\n      timesCounted++;\n      this.displayRef.current!.innerHTML = timesCounted.toString();\n      if (timesCounted === countInTimes) {\n        setTimeout(done, (60 * 1000) / this.props.bpm);\n      } else {\n        setTimeout(cb, (60 * 1000) / this.props.bpm);\n      }\n    };\n\n    cb();\n  }\n\n  playScale({ intro }: { intro?: boolean }): any {\n    console.log(\"setting playing to true\");\n    this.setState({ is_playing: true }, () => {\n      if (intro) {\n        this.setState({originalDirection: this.state.direction })\n        this.countOff(() => this.playScaleHelper({ firstTime: true }));\n      } else {\n        this.playScaleHelper({ firstTime: false });\n      }\n    });\n  }\n\n  stopPlayScale() {\n    return this.setState({ \n      direction: this.state.originalDirection,\n      is_playing: false\n     });\n  }\n\n  toggleDirection() {\n    if (this.state.direction === \"UP\") {\n      return this.setState({ direction: \"DOWN\" });\n    } else {\n      return this.setState({ direction: \"UP\" });\n    }\n  }\n\n  get_selected_frets({startAtRoot}: {\n    startAtRoot: boolean\n  }) {\n    const { scale, notes } = SCALES[this.props.Scale].get_notes(this.props.Note);\n\n    const notesMap = generateNotes(\n      this.state.stringsNum,\n      this.state.fretsNum,\n      this.props.tuning.notes,\n      notes\n    );\n\n    let sNum;\n    let string, fret;\n    const ret_tabs = [];\n\n    let strings: [BlFret, number][] = (() => {\n      const result: [BlFret, number][] = [];\n      const object = this.get_frets();\n      _.each(object, (string: Record<number, BlFret>, sN) => {\n        result.push([string as any, (sN as unknown) as number]);\n      });\n      return result;\n    })();\n    if (this.state.direction === \"DOWN\") {\n      strings = strings.reverse();\n    }\n\n    let shouldInclude = startAtRoot ? false : true;\n\n    for ([string, sNum] of Array.from(strings)) {\n      let fNum;\n      let frets: [BlFret, number][] = [];\n      _.each(string, (fret, fN) => {\n        frets.push([fret as any, (fN as unknown) as number]);\n      });\n\n      if (this.state.direction === \"UP\") {\n        frets = frets.reverse();\n      }\n\n      for ([fret, fNum] of Array.from(frets)) {\n        if (fret.data().selected && fret.data().checked) {\n          if (!shouldInclude) {\n            const note = notesMap[sNum][fNum];\n            const noteEntry: NoteEntry = _.find(scale, (n) => n.name === note);\n            if (noteEntry.offset === 0) {\n              shouldInclude = true;\n            }\n          }\n          if (shouldInclude) {\n            ret_tabs.push([sNum, fNum]);\n          }\n        }\n      }\n    }\n    return ret_tabs;\n  }\n\n  componentDidMount() {\n    if (!this.jsGuitarRef.current) {\n      return;\n    }\n    const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n    const { selector } = this.state;\n    const selectorX = this.jsGuitarRef.current.offsetLeft;\n    selector.initialPos = { x: selectorX, y: this.jsGuitarRef.current.offsetTop };\n    selector.minX = selectorX;\n    selector.maxX = selectorX + (this.state.fretsNum + 1) * this.props.fretWidth - selectorWidth;\n    return this.setState({ selector, selectorX });\n  }\n\n  constructor(props: MyProps) {\n    super(props);\n\n    this.displayRef = React.createRef();\n\n    const stringsNum = (props.data != null ? props.data.stringsNum : undefined) || 6;\n    const fretsNum = (props.data != null ? props.data.fretsNum : undefined) || 16;\n    const selectorFretsCount = props.selectorFretsCount || 4;\n    const timeout = 400;\n    let selector = null;\n    const is_playing = false;\n    const direction = \"DOWN\";\n    const repeat = true;\n    const changeDirection = true;\n    const selectorWidth = selectorFretsCount * props.fretWidth;\n    const playing_fret = undefined;\n\n    this.jsGuitarRef = React.createRef();\n\n    selector = {\n      height: stringsNum * props.fretHeight,\n      width: selectorWidth,\n      onXChange: (x: number) => this.onSelectorMove(x),\n      minX: 20,\n      maxX: -1,\n    };\n\n    this.state = {\n      stringsNum,\n      fretsNum,\n      timeout,\n      selector,\n      is_playing,\n      selectorFretsCount,\n      direction,\n      repeat,\n      changeDirection,\n      playing_fret,\n      selectorX: 0,\n      originalDirection: direction\n    };\n\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.key === \" \") {\n        this.togglePlayPause();\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n  }\n\n  onSelectorMove(x: number) {\n    return this.setState({ selectorX: x, is_playing: false });\n  }\n\n  get_frets = (): Record<number, Record<number, BlFret>> => {\n    const { scale, notes } = SCALES[this.props.Scale].get_notes(this.props.Note);\n\n    const notesMap = generateNotes(\n      this.state.stringsNum,\n      this.state.fretsNum,\n      this.props.tuning.notes,\n      notes\n    );\n\n    const frets = getClearFrets(this.state.stringsNum, this.state.fretsNum, notesMap);\n    const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n\n    if (!this.state.selector.initialPos) {\n      return frets;\n    }\n\n    const x = this.state.selectorX;\n\n    _.each(frets, (string, sN) => {\n      for (let fN in string) {\n        let needle;\n        const fret = string[fN];\n        const fret_offset =\n          (this.state.selector?.initialPos?.x || 0) +\n          ((fN as unknown) as number) * this.props.fretWidth;\n\n        if (fret_offset >= x && fret_offset < x + selectorWidth) {\n          fret.select();\n        }\n\n        if (fret.data().note === this.props.Note) {\n          fret.set_root();\n        }\n\n        if (this.state.playing_fret && this.state.is_playing) {\n          const [_sN, _fN] = Array.from(this.state.playing_fret);\n          if (_sN === ((sN as unknown) as number) && _fN === ((fN as unknown) as number)) {\n            fret.playStart();\n          }\n        }\n\n        if (\n          ((needle = fret.data().note),\n          Array.from(scale.map((n: NoteEntry) => n.name)).includes(needle))\n        ) {\n          fret.check();\n        }\n\n        if (fN === \"0\") {\n          fret.set_open();\n        }\n      }\n    });\n\n    return frets;\n  };\n\n  togglePlayPause = () => {\n    this.state.is_playing ? this.stopPlayScale() : this.playScale({ intro: true });\n  };\n\n  render() {\n    const frets = this.get_frets();\n\n    const StringsList = __range__(0, this.state.stringsNum, true).map((num) => {\n      return (\n        <GString\n          key={`string_item_${num}`}\n          data={{\n            frets: frets[num],\n          }}\n          Fwidth={this.props.fretWidth}\n          Fheight={this.props.fretHeight}\n        />\n      );\n    });\n\n    const SelectorComp = (() => {\n      if (this.state.selector.initialPos) {\n        if (this.state.selector) {\n          return <Selector {...this.state.selector} />;\n        }\n      } else {\n        return <div></div>;\n      }\n    })();\n\n    const SingleDotFrets = [3, 5, 7, 9, 15, 17, 19];\n    const FretDots = (\n      <div className=\"row\" style={{ margin: 0 }}>\n        {__range__(0, this.state.fretsNum, true).map((num) => {\n          return (\n            <div\n              key={`fret_dot_${num}`}\n              className={`col-md-1 fretdot`}\n              style={{\n                textAlign: \"left\",\n                width: `${this.props.fretWidth}px`,\n                right: \"9px\",\n                fontSize: \"x-large\",\n              }}\n            >\n              {SingleDotFrets.includes(num) && \"•\"}\n              {num === 12 && \"••\"}\n            </div>\n          );\n        })}\n      </div>\n    );\n\n    const FretNumbers = (\n      <div className=\"row\" style={{ margin: 0 }}>\n        {__range__(0, this.state.fretsNum, true).map((num) => {\n          let active = \"\";\n          const x = this.state.selectorX;\n          if (x) {\n            const selectorWidth = this.state.selectorFretsCount * this.props.fretWidth;\n            const fret_offset =\n              (this.state.selector.initialPos?.x || 0) + num * this.props.fretWidth;\n            if (fret_offset >= x && fret_offset < x + selectorWidth) {\n              active = \"active-num\";\n            }\n          }\n          return (\n            <div\n              key={`fret_num_${num}`}\n              className={`col-md-1 fretnum ${active}`}\n              style={{ width: `${this.props.fretWidth}px` }}\n            >\n              {num}\n            </div>\n          );\n        })}\n      </div>\n    );\n\n    return (\n      <div\n        style={{\n          width: (this.state.fretsNum + 1) * this.props.fretWidth,\n          margin: \"auto\",\n        }}\n      >\n        <h1\n          ref={this.displayRef}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            alignContent: \"center\",\n            width: \"100%\",\n            backgroundColor: \"beige\",\n            padding: \"20px\",\n            fontSize: \"xx-large\",\n            display: this.state.is_playing ? \"flex\" : \"none\",\n          }}\n        >\n          xxxx\n        </h1>\n\n        <div>\n          {FretNumbers}\n          {FretDots}\n        </div>\n        <div className=\"js-guitar\" ref={this.jsGuitarRef}>\n          {SelectorComp}\n\n          {StringsList}\n          {FretDots}\n          {FretNumbers}\n        </div>\n        <div\n          style={{\n            width: \"100%\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            alignContent: \"center\",\n            display: \"flex\",\n            paddingTop: \"20px\",\n          }}\n        >\n          <Button\n            variant=\"outline-primary\"\n            className={this.state.is_playing ? \"active\" : \"\"}\n            onClick={this.togglePlayPause}\n          >\n            {this.state.is_playing ? (\n              <FontAwesomeIcon icon={faStop} />\n            ) : (\n              <FontAwesomeIcon icon={faPlay} />\n            )}\n          </Button>\n\n          <Button\n            variant=\"outline-primary\"\n            className={this.state.repeat ? \"active\" : \"\"}\n            onClick={() => this.setState({ repeat: !this.state.repeat })}\n          >\n            <FontAwesomeIcon icon={faRedo} />\n          </Button>\n\n          <Button\n            variant=\"outline-primary\"\n            className={this.state.direction === \"UP\" ? \"active\" : \"\"}\n            onClick={() => this.toggleDirection()}\n          >\n            {this.state.direction === \"UP\" ? (\n              <FontAwesomeIcon icon={faArrowDown} />\n            ) : (\n              <FontAwesomeIcon icon={faArrowUp} />\n            )}\n          </Button>\n\n          <Button\n            variant=\"outline-primary\"\n            className={this.state.changeDirection ? \"active\" : \"\"}\n            onClick={() => this.setState({ changeDirection: !this.state.changeDirection })}\n          >\n            <FontAwesomeIcon icon={faRandom} />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction __range__(left: number, right: number, inclusive: boolean) {\n  let range = [];\n  let ascending = left < right;\n  let end = !inclusive ? right : ascending ? right + 1 : right - 1;\n  for (let i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n    range.push(i);\n  }\n  return range;\n}\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport React from \"react\";\nimport { SCALES } from \"./../scales\";\nimport { ALL_NOTES, TUNINGS } from \"./../notes\";\n\nimport { STEP, hSTEP, BigSTEP } from \"./../scales\";\nimport Guitar from \"../Guitar\";\n\n// import Select from \"react-select\";\nimport Select from \"react-dropdown-select\";\n\nconst print_size = (size: number[]) =>\n  (() => {\n    const result = [];\n    for (let s of Array.from(size)) {\n      if (s === STEP) {\n        result.push(\"Step\");\n      } else if (s === hSTEP) {\n        result.push(\"hStep\");\n      } else if (s === BigSTEP) {\n        result.push(\"BigSTEP\");\n      } else {\n        result.push(`+${s}`);\n      }\n    }\n\n    return result;\n  })().join(\" - \");\n\nlet tuning;\n\nconst notesOptions = ALL_NOTES.map((note) => ({ value: note, label: note }));\nconst scalesOptions = (() => {\n  const result = [];\n  for (let scale in SCALES) {\n    result.push({ value: scale, label: scale });\n  }\n  return result;\n})();\nconst tuningOptions = (() => {\n  const result1 = [];\n  for (tuning in TUNINGS) {\n    const v = TUNINGS[tuning];\n    result1.push({ value: tuning, label: v.name });\n  }\n  return result1;\n})();\n\ntype MyProps = {};\ntype MyState = {\n  tuning: string;\n  Note: string;\n  Scale: string;\n  bpm: number;\n};\n\nexport default class ScalesPage extends React.Component<MyProps, MyState> {\n  state = {\n    Note: \"C\",\n    Scale: \"Major\",\n    tuning: \"Standard\",\n    bpm: 80,\n  };\n\n  render() {\n    const tuningName = TUNINGS[this.state.tuning].name;\n    return (\n      <div>\n        <div>\n          <h2 className=\"text-center\">\n            {`${this.state.Note} ${this.state.Scale} (${tuningName} tuning)`}\n          </h2>\n\n          <p className=\"text-center text-muted text-bold\">\n            {print_size(SCALES[this.state.Scale].size)}\n          </p>\n          <p className=\"text-center text-bold\">\n            {`${SCALES[this.state.Scale]\n              .get_notes(this.state.Note)\n              .scale.map((n: any) => n.name)\n              .join(\" \")}`}\n          </p>\n          <div>\n            <div style={{ width: \"850px\", margin: \"auto\" }}>\n              <Guitar\n                bpm={this.state.bpm}\n                fretWidth={50}\n                fretHeight={30}\n                selectorFretsCount={4}\n                Note={this.state.Note}\n                Scale={this.state.Scale}\n                tuning={TUNINGS[this.state.tuning]}\n              />\n            </div>\n\n            <div style={{ width: \"850px\", margin: \"auto\", display: 'flex', justifyContent: 'center', paddingTop: '15px' }}>\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  zIndex: 10000,\n                  paddingBottom: \"20px\",\n                }}\n              >\n                <div style={{ width: \"100px\" }}>\n                  <Select\n                    options={notesOptions as any}\n                    placeholder=\"note\"\n                    searchable={false}\n                    values={[{ value: this.state.Note, label: this.state.Note }]}\n                    onChange={(n) => this.setState({ Note: (n as any)[0].value })}\n                  />\n                </div>\n                <div style={{ width: \"250px\" }}>\n                  <Select\n                    options={scalesOptions as any}\n                    placeholder=\"scale\"\n                    searchable={false}\n                    values={[{ value: this.state.Scale, label: this.state.Scale }]}\n                    onChange={(n) => {\n                      console.log(n);\n                      this.setState({ Scale: (n as any)[0].value });\n                    }}\n                  />\n                </div>\n\n                {/* <div style={{ width: \"150px\" }}>\n                  <Select\n                    options={tuningOptions}\n                    searchable={false}\n                    placeholder=\"tuning\"\n                    values={[this.state.tuning]}\n                    onChange={(n) => this.setState({ tuning: (n as any).value })}\n                  />\n                </div> */}\n\n                <input\n                  value={this.state.bpm}\n                  onChange={(e: any) => this.setState({ bpm: Number(e!.target.value) })}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport logo from './logo.svg';\nimport './css/App.css';\nimport './css/bootstrap.css';\nimport './css/style.css';\nimport ScalesPage from './fretboard/pages/scales_page_component';\n\nfunction App() {\n  return (\n    <ScalesPage/>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}